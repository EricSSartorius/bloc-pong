// Generated by CoffeeScript 1.7.1
(function() {
  var animate, canvas, height, keepScore, move, render, step, update, width;

  canvas = document.getElementById("canvas");

  width = 640;

  height = 480;

  canvas.width = width;

  canvas.height = height;

  window.context = canvas.getContext("2d");

  window.leftScore = 0;

  window.rightScore = 0;

  window.scoreBoard = document.getElementById('score');

  scoreBoard.innerText = "" + leftScore + " - " + rightScore;

  window.player = new Player;

  window.computer = new Computer;

  window.ball = new Ball(canvas.width / 2, canvas.height / 2);

  render = function() {
    context.fillStyle = "#000";
    context.fillRect(0, 0, width, height);
    player.render();
    computer.render();
    return ball.render();
  };

  animate = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback) {
    return window.setTimeout(callback, 1000 / 60);
  };

  update = function() {
    return computer.update();
  };

  move = function() {
    player.move();
    computer.move();
    return ball.move();
  };

  keepScore = function() {};

  step = function() {
    move();
    render();
    keepScore();
    update(ball);
    return animate(step);
  };

  window.addEventListener('keydown', function(event) {
    if (event.keyCode === 38) {
      return player.goUp();
    } else if (event.keyCode === 40) {
      return player.goDown();
    }
  });

  window.onload = function() {
    return animate(step);
  };

}).call(this);
